<!DOCTYPE html>
<html>
  <head>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js">
    </script>
    <base target="_top">
    <?!= include('Booking.Sidebar.css'); ?>
  </head>
  <body>
   <script>
     var harvestProjects = <?!=JSON.stringify(harvestProjects) ?>;
   </script>   
    <?!= include('Booking.Sidebar.js'); ?>
    <div id="not-initialized">
      <p class="information">
        Bitte zuerst die die Daten aktualisieren.
      </p>
      <p class="buttons">
        <button class="update" name="initialize" id="initialize">Daten abrufen</button>
      </p>
    </div>

    <div id="jira" >
      <h2>JIRA Ticket <a id="j-key" target="_blank"></a></h2>
      <form>
        <h3><a id="j-summary" target="_blank"></a></h3>
        <p class="j-infobar">
          <span id="j-issuetype" >tickettyp</span>
          <span id="j-status" >kein Status</span>
        </p>
        <p id="j-assignee">
          <span id="j-assigneeName" >Bearbeiter</span>
        </p>
        <div class="information">
          <h4>Zeiterfassung ohne Unteraufgaben</h4>
          <p>
            <span>Ursprüngliche Schätzung</span>
            <span id="j-originalestimate"/>
          </p>
          <p>
            <span>Verbleibende Schätzung</span>
            <span id="j-timeestimate"/>
          </p>
          <p>
            <span>Protokolliert</span>
            <span id="j-timespent"/>
          </p>
        </div>
        <div class="information">
          <h4>Zeiterfassung inklusive Unteraufgaben</h4>
          <p>
            <span>Ursprüngliche Schätzung</span>
            <span id="j-aggregateoriginalestimate"/>
          </p>
          <p>
            <span>Verbleibende Schätzung</span>
            <span id="j-aggregatetimeestimate"/>
          </p>
          <p>
            <span>Protokolliert</span>
            <span id="j-aggregatetimespent"/>
          </p>
        </div>
        
        <div class="information">
          <h4>Meine gebuchten Zeiten</h4>
          <p>
            <span>Gesamt</span>
            <span id="j-mytimespenttotal"/>
          </p>
          <p>
            <span id="j-mytimespenttoday-label">Nur heute</span>
            <span id="j-mytimespenttoday"/>
          </p>
        </div>


        <div class="">
          <h4>Arbeit protokollieren</h4>
          <p>
            <label for="j-time">Zeit <span class="hint">z.B. 3w 4d 12h 5m</span></label>
            <input type="text" name="j-time" id="j-time"/>
          </p>
          <!-- p>
            <label for="j-remaining">Verbleibende Schätzung anpassen</label>
            <span class="radiospan">
              <span id="j-auto" class="selected">Auto</span>
              <span id="j-leave">Nicht ändern</span>
              <span id="j-new">Neuer Wert</span>
              <span id="j-manual">Reduzieren</span>
            </span>
            <input id="j-adjustEstimate" type="hidden" value="j-auto"/>
            <input disabled type="text" name="j-remaining" id="j-remaining" />
          </p -->
          <p>
            <label for="j-comment">Kommentar</label>
            <textarea name="j-comment" id="j-comment"></textarea>
          </p>
          <p class="buttons">
            <button class="update" name="j-save" id="j-save">Speichern</button>
            <button class="reset" name="j-reset" id="j-reset">Zurücksetzen</button>
          </p>
        </div>
      </form>
    </div> 
    
    <div id="harvest" class="DISABLE_HARVEST">
      <h2>Harvest Buchung</h2>
      <form>
        <p>
          <label for="h-project">Projekt</label>
          <select id="h-project" name="h-project" size="8" >
          </select>
        </p>
        <p>
          <label for="h-task">Aufgabe</label>
          <select id="h-task" name="h-task" size="5">
          </select>
        </p>
        <p>
          <label for="h-hours">Zeit <span class="hint">z.B. 1,5 oder 1:30</span></label>
          <input type="text" name="h-hours" id="h-hours"/>
        </p>
        <p>
          <label for="h-notes">Bemerkung</label>
          <textarea name="h-notes" id="h-notes"></textarea>
        </p>
        <p class="buttons">
          <button class="update" name="h-update" id="h-update">Änderungen speichern</button>
          <button class="delete" name="h-delete" id="h-delete">Buchung löschen</button>
          <button class="reset" name="h-reset" id="h-reset">Zurücksetzen</button>
        </p>
      </form>
    </div> 

    <div id="new-harvest" class="DISABLE_HARVEST">
      <h2>Neue Harvest Buchung</h2>
      <form>
        <p>
          <label for="nh-project">Projekt</label>
          <select id="nh-project" name="nh-project" size="8">
          </select>
        </p>
        <p>
          <label for="nh-task">Aufgabe</label>
          <select id="nh-task" name="nh-task" size="5">
          </select>
        </p>
        <p>
          <label for="nh-hours">Zeit <span class="hint">z.B. 1,5 oder 1:30</hint></label>
          <input type="text" name="nh-hours" id="nh-hours"/>
        </p>
        <p>
          <label for="nh-notes">Bemerkung</label>
          <textarea name="nh-notes" id="nh-notes"></textarea>
        </p>
        <p class="buttons">
          <button class="update"name="nh-create" id="nh-create">Speichern</button>
          <button class="reset"name="nh-reset" id="nh-reset">Zurücksetzen</button>
        </p>
      </form>
    </div> 
    <div id="errormessage"></div>
  </body>
</html>


